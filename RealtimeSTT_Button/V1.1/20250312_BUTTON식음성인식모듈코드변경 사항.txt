변경 사항

1. MIC connection 기능에서 mic device index config 파라미터 값 대입
    - check_mic_connection()의 params.recorder_config['input_device_index'] = input_device_index

2. 데이터 Reading 할때 "START" 쌓여서 버튼 몇번 누르면 쌓여 있다가 계속 넘어가는 현상 해결
    - communicator.ser.reset_input_buffer() 적용

3. check_push_button() 함수 코드 수정 "START"만 활용해서 데이터 송신 받아서 처리

4. audio_recorder.py 파일의 text()함수의 콜백 함수 처리에 대한 thread를 변수화하여 shutdown 시 종료되도록 코드 수정 

        1) text 함수 수정
        text( 
                self.transcription_thread = threading.Thread(
                target=on_transcription_finished,
                args=(self.transcribe().rstrip(".?!"), start_time, communicator, similarity_cal, similarity_config, recorder,),
                ))
        2) shutdown 함수 수정
        # Terminate the transcription thread if it exists
        if hasattr(self, 'transcription_thread') and self.transcription_thread.is_alive():
            self.transcription_thread.join(timeout=10)
            if self.transcription_thread.is_alive():
                logging.warning("Transcription thread did not terminate in time. Terminating forcefully.")
                # Forcefully terminate the thread if necessary
                self.transcription_thread = None
 
5. serial 연결 reopen 기능은 일단 작동 되지 않아서 제외 serial_protocol.py의 serial_state_check, reopen_serial 함수 주석 처리

6. data sending 처리 시 output buffer 초기화 코드 추가. preprocess함수의 self.ser.reset_output_buffer()

7. 정상적으로 종료 안되는 문제가 있는데, RealTimeSTT: 2025-03-12 18:49:14,227 - root - WARNING - Recording thread did not terminate in time. Terminating forcefully. 이건 나중에 해결하자.